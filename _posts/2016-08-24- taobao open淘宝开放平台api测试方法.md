## 淘宝的api

- 淘宝的api还是比较复杂的
- 淘宝的文档是比较充分的.
- 淘宝的工具也是充足的.

> 因此, 我们在本地调用某个api之前, 最好, 使用淘宝官方的工具测试下, 这样可以提前发现某些平台设置引起的问题, 节省我们的开发时间. 
>
> 当我们发现自己的代码运行有问题时, 也可以回到淘宝官网进行测试, 从而比较容易的定位问题.  这是血淋淋的教训啊.

## 使用淘宝官网的api测试

1. 地址:  [http://open.taobao.com/apitools/apiTools.htm?spm=a219a.7395905.0.0.p2nu9s&catId=20439&apiId=22554&apiName=taobao.tmc.user.get&scopeId=]
2. 看到啥就填啥, 界面上面的举例和说明是很充分的, 请一定仔细阅读.
3. 如果报错, 那么, 错误返回还是很清晰充分的, 不仅仅有解释, 而且有整个的错误返回包, 要自己阅读返回包内容, 可以对照api说明, 大部分返回包的说明是很充分的.

## ip白名单问题

1. 这是一个常见错误, 需要设置正确的ip白名单才能测试.

2. 白名单设置地址: 淘宝开放平台->控制台->app管理->安全管理->ip白名单 

   > 这个目录链很可能会调整, 但是, 稍微找一下肯定是可以找到的. 

3. 白名单举例: 

   ````sh
   121.8.8.8 #你自己服务器ip
   218.8.8.8 #本机ip/公司环境/你的本机测试ip, 可以用baidu查出来. 
   140.205.145.*  #淘宝的ip, 如果不设置淘宝官网的ip那么久无法使用官网的api测试.
   100.68.31.* #淘宝另一个
   100.68.30.*  #淘宝的又一个
   ````

4. 这里特别需要说明一下的是你的本机ip, ifconfig看到的不是你的对外ip. 对外ip建议百度搜索: 我的ip, 然后就能看到了.

## 授权问题

请参考我的另一篇博文: 淘宝开放平台用户授权

## 安全等级: 0级

>  安全等级如果是0级, 那么啥事也做不了. 所以要升级

- 服务托管报备.
- 授权管理
- 做了这两个设置之后, 等级变成3级. 升级真快啊.

## 流量用完

一般情况下出现这个问题是因为应用没有上线, 

- 应用上线前只有5000次调用机会, 然后就流量用完了.
- 应用上线后有1,000,000次调用每日, 基本每秒11次, 因此, 只要sleep任意秒数, 就不会面临流量用完的情况.
- 那么sleep多少合适呢? 取决于业务量, 一般业务量不高的情况下sleep5秒都可以.
- 注意: 手工操作上线需要几个小时, 因为其中有淘宝3个小时的安全审核.