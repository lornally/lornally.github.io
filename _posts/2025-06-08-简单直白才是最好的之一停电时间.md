> 连续遇到编码问题, 发现一个原则, 也是c语言作者反复强调的: 简单直白才是好的方案

###### 夜晚机器停电, 如何知道具体停电时间?

此时询问ai, ai普遍都会给你各种查找办法, 有查log的, 有查[控制台]的, 但是, 他们都要你筛选: 'shutdown', 这个是臣妾做不到的. 因为, macstudio没有自带电源, 所以, 他无法记录这一条. 其实简单, 只要你知道自己的开机时间, 下面一条就能精确知道自己的停电时间:

```sh
log show --start "2025-06-08 06:49:19+0800" --end "2025-06-08 09:00:00+0800" | tail -n 10
```

* 这里第二个时间9:00, 是我的大概的开机时间(实际是9:30开机), 注意这个时间必须在开机之前, 不然开机后的log就把你淹没了.
* 第一个时间, 稍微要点技巧, 直接用你确认的机器还开着的时间是可以的, 但是, 如果log太大, 这一条要运行好久, 所以, 此时可以在[控制台]翻看一下system.log, 这个不会很大, 能基本精确定位到这个时间. 这个时间可以直接用.  如果这样还是log太大, 那么可以:

```sh
log show --predicate 'eventMessage contains "Shutdown"' --last 12h  > shutdown_log.txt
```

* --predicate: 用于定义日志过滤条件，类似于数据库查询的 WHERE 语句。它允许你指定要查找的日志条目特征，比如子系统、消息内容等。

- eventMessage: 这是 macOS 日志系统中的字段，表示日志条目的消息内容（即日志的实际文本）。
- contains "Shutdown": 过滤条件，大小写敏感, 此处可以改为你喜欢的任意字符, 帮助你确定那个起始时间点.
