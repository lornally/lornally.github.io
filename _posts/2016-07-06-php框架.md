> php框架, 完全没有概念哈.

### 框架简介

Sitepoint网站做了一个小的调查，看看PHP开发者们最喜欢使用哪个PHP框架。调查结果显示，最流行的PHP框架前三甲为：Laravel、Phalcon、Symfony2。

使用Phalcon作为主力框架，主要源于其在稳健性和质量方面的优秀表现，事实上Phalcon是用C语言编写的，而且可以当作是PHP扩展框架安装。无论如何，尝试使用不同的框架绝对是很有必要的。

Laravel是一个简单优雅的PHP Web开发框架，可以将开发者从意大利面条式的代码中解放出来，通过简单、高雅、表达式语法开发出很棒的Web应用，Laravel拥有更富有表现力的语法、高质量的文档、丰富的扩展包，被称为“巨匠级PHP开发框架”。

Phalcon是一个开源的、全栈的、用C语言编写的PHP5框架，为开发者提供了网站及应用开发所需的大量高级工具，且Phalcon是松耦合的，开发者可以根据需要使用其他组件。Phalcon中的所有函数都以PHP类的方式呈现，开发者无需学习和使用C语言，且无需担心性能问题。 性能优越、强大且易于使用是Phalcon受欢迎的最主要的因素。

Symfony2是一个开源的PHP Web框架，有着开发速度快、性能高等特点。与其他框架相比，Symfony2的优势包括：支持DI（依赖注入）和IoC（控制反转）；扩展性强；文档和社区比较成熟。但是Symfony2的学习曲线也比较陡峭，没有经验的初学者往往需要一些练习才能掌握其特性。

![06112508_5293](../images/06112508_5293.png)

 ![06112559_5137](../images/06112559_5137.jpg)

  ![php](../images/php.png)

### 专家建议

learn php & mysql 推荐使用smarty. 一个轻量级的框架.

不论如何, 很多专家都建议多使用几个框架.

### 第一个实践的框架 - thinkphp

初始目录:

1. index.php 入口文件
2. readme.md 简介
3. application 空目录
4. public 也是空目录
5. thinkphp框架目录

看了参考手册, 看的一头雾水, 感觉就是一个很复杂的框架. 然后, 看了快速入门, 才稍微有点感觉.

> 真心的, 以我粗浅的认知, 这是一个很傻的框架. 空的框架运行一下就发现了.

1. 他默认的竟然是php代码喷html代码的方式, 啥叫mvc啊???

2. 他采用了之前html开发里面最烦人的一点, image, css, html分目录存储, 这么干, 最终结果就是啥都不能删, 一切都很重要. 并且牵一发而动全身, 代码全都是互相关联, 最终冗余代码无数.

3. __font-family: "微软雅黑";__ 看到了吗? 用中文指定字体, 这个会被骂死, 因为这个字体的正确显示基于系统默认语言设置, 虽然用户有这个字体, 但是, 他依旧无法正常显示这个__Microsoft YaHei__字体. 这事和之前删除html的charset设置的人是一样的, 指望所有人都装__windows简体中文版__呢? 顺便说一句简体中文版才是问题所在.

   > 官方文档看这个: http://www.kancloud.cn/thinkphp/thinkphp_quickstart/2138
   >
   > 我一开始看错了文档, 看了3.1的, 和同事弄得有很大不同, 另外, 不建议看那个__完全参考手册__, 只见树木不见森林.

4. 自动生成代码, 唉, 我的同伴都是copy的好不好, 这个设计太脑残了, duplicate才是我们常用的模式好不好, 还自动生成, 真心有空哦, 直接就放一套模板数据不好么? 

5. 快速入门一半了, 都是没用的内容, 啥入口, 模块, 配置参数, 都没有用.

6. 总之 application/home/controller/indexcontroller.class.php这货是有用的, 是入口.

7. 然后在这个php里面的public方法都可以作为入口, 并且可以带参数访问, 我怀疑还是没啥用的特性.

   ```php
   //http://serverName/index.php/模块/控制器/操作
   //例如可以用这个url访问:  http://localhost:8888/index.php/home/index/hello/name/baby
   public function hello($name='thinkphp'){//只要这些代码放到indexcontroller.class.php, 上面的url就生效了.
          echo 'hello,'.$name.'!';
   }
   //这两个是等效的: 
   //http://serverName/
   //http://serverName/index.php/Home/Index/index
   ```

8. 然后又讲了url模式, 还是没啥用的功能, 就提供一种最好的就好了. 我们都选2-pathinfo.

9. 关于view

   1. 其定义规范默认是模块目录下面的 View/控制器名/操作名.html，所以，Index模块的hello操作的默认模板文件位于Home模块目录下面的View/Index/hello.html

   2. 然后, 需要脱裤子放屁的弄这个:

      ```php
      public function hello($name='thinkphp'){
              $this->assign('name',$name);
              $this->display();
          }
      ```

   3. 然后可以浏览器访问试试.果然失败了, 失败原因是, 放屁之前还要再脱了胸罩

      ```html
      <html><!-- View/Index/hello.html -->
      <head>
        <title>hello {$name}</title>
      </head>
      <body>
          hello, {$name}!
      </body>
      </html>
      ```

   4. 再次有亲情提示, 上面的胸罩一定要放好, 放到view/index目录下, 不能和index.html放到一起, 佛祖啊. 而且还要注意大小写, 观音菩萨啊. 神经病啊, 首字母大写, 这个怎么搞, 难道不知道很多系统的默认首字母大写么? 这样弄别人怎么区分呢?

10. 数据库

    1. 官方说配置在模块配置文件, 明显又想脱裤子, 我同事果断配置在公共配置文件, application/common/conf/config.php, 干得漂亮.

       ```php
       <?php
       return array(
       	//'配置项'=>'配置值'
       	'URL_MODEL'=>2,//2是去除index.php
       	'DB_FIELDTYPE_CHECK'   =>true,
           'TMPL_STRIP_SPACE'     =>true,
           'OUTPUT_ENCODE'        =>true, // 页面压缩输出
       	'MODULE_ALLOW_LIST'    =>    array('Home','Admin'),
           'DEFAULT_MODULE'       =>    'Home',  // 默认模块
       	//***********************************数据库设置****************************
       	'DB_TYPE'   => 'mysql', // 数据库类型
       	'DB_HOST'   => 'localhost', 
       	'DB_NAME'   => 'shock_g',
       	'DB_USER'   => 'root', //我的username
       	'DB_PWD'    => 'root', //我的password
       	'DB_PORT'   => 3306, // 端口
       	'DB_PREFIX' => 'g_', // 数据库表前缀 
       	'DB_CHARSET'=> 'utf8', // 字符集
       );

       ```

       ​

    2. 这次回到index方法, 还是那个controller

       ```php
           public function index(){
             $Data     = M('reservation'); // 实例化我的表的数据模型, reservation是我的表名.
             $result     = $Data->select(); //find(1);
             $this->assign('result',$result);
             $this->display();        
           }
       ```

    3. 回到/Users/m/Documents/thinkphp_3.2.3_full/Application/Home/View/Index/index.html

       ```html
       <html>
       <head>
         <title></title>
       </head>
       <body>
         <volist name="result" id="vo">
       	{$vo.phone}--{$vo.time}<br/>
         </volist>
       </body>
       </html>
       ```

       ​

       ​

### ci框架

1. https://www.codeigniter.com
2. 中文手册
   - https://github.com/CodeIgniter-Chinese/codeigniter-user-guide
   - http://codeigniter.org.cn/user_guide/
   - http://codeigniter-chinese.github.io/codeigniter-user-guide/

### 引用

http://www.searchsoa.com.cn/showcontent_79582.htm

http://www.techtarget.com.cn

https://www.sitepoint.com/best-php-framework-2015-sitepoint-survey-results/

php官网: http://php.net/manual/zh/internals2.memory.php
