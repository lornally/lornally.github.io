> 当然了, 用ipc可以解决这个问题, 有兴趣的同学可以看旁边的关于ipc的blog. 但是, ipc传一个消息, 等同于呼一个事件, 很多时候, 我们并不需要那么强的功能, 我们就是想读一个参数而已

###### 方法一remote

```js
//browser端
let myWindow: any = new BrowserWindow({ .....})

myWindow.custom = {
  'whatever': 'youwant'
}

//某个加载到window的html
var electron = require('electron');
var currentWindow = electron.remote.getCurrentWindow(); 
console.log(currentWindow.custom);
```





###### 拿到获得焦点的窗口, 在主流程中

BrowserWindow.getFocusedWindow()





###### 有一个bug, title不展示, 这个不科学.

1. 有结论了, 如果模板html有title, 那么browserwindow.settitle就失效了.
2. 官方建议是放到webcontents.did-finish-load里面处理. (但是这个解决方案形成了业务代码不必要的分散)
3. 那么放到browserwindows.read-to-show在大部分情况下也是可行的. 参见下面样例代码
4. event.preventDefault()阻止自动更新title, 是zcbenz认为最正确的方法. 



```js
//once方法
win.once('ready-to-show', () => {
      win.show()
	//如果不是新建空白文件, 这个判断没必要, 默认初始空白文件要求存在, 但是用户理应可以修改
	//if(win.sname!=blankname)
		win.setTitle(win.sname) //放到这里试试. 果然成功了, 因为官方说了, 一般情况下, 这个是在did-finish-load后面的. 
	
		log(win.getTitle())
	
    })
//下面这个是官方建议的方法, 更靠谱. 但是不能用, 因为我另存文件的时候还是要修改title的, 所以从on改成once, 但是还是不靠谱, 因为总有某些模板是没有title的, 那么就阻止了第一次保存的修改title, 而且如果这个bug发生的时候, 灰常难于调试.
win.once('page-title-updated', (e)=>{
    e.preventDefault()
})
```



参考:

1. https://github.com/electron/electron/issues/1594
2. https://github.com/electron/electron/blob/master/docs/api/browser-window.md#event-page-title-updated