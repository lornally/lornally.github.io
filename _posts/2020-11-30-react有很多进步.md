> 一年多不用react, 他的进步很明显

###### function组件时react推荐的写法

```jsx
//组件使用函数写法, 不要使用class写法
function Welcome(props) {
  return <h1>Hello, {props.name}</h1>;
}
```

###### 时代在进步state也可以用function写法了

```coffeescript
import style from  "./style.module.sass"
import React, { useState }  from 'react'
import ReactDOM from 'react-dom'
export Hello = (props) ->
	[count, setCount] = useState(0)
	<div className={style.moduleclass}>
		<h1>props hello hahaha oeuaoeu {props.name}</h1>
		<p>You clicked {count} times</p>
      <button onClick={ -> setCount count + 1}>
        Click me
      </button>
  </div>

ReactDOM.render	<Hello name="天才"/>,document.getElementById('reactcontainer')
```

- react的层次概念其实有点烦, 想想传递参数要一层层传递下去. 
- 牛啊, 即便不用hooks, 也可以functional的写react. 不过要用prototype而已. 语法上面比较唠叨, 语法糖还是需要的.

###### functional component 如何在循环中传递参数?

- 立即执行函数返回处理函数, 这个写法是OK的示例如下

```coffeescript
onClick = (n, x) -> ->  #这里返回事件的处理函数
  setcheckindex n 
  x() 
<Boxr key={x.text} check={checkindex==n} text={x.text} 
  onClick={onClick(n, x.onClick)} #这个写法是关键, 这里有一个立即执行的函数, 他返回事件处理函数, 这样参数就保留在了这个处理函数的外部作用域. 就避免了for循环只有最终循环终点值生效的问题.
```

- data-xxx的写法没有试验成功.

  ```coffeescript
  data-index={n} data-fun={x.onClick} /> for x,n in g# 这个没有用, 函数中没有拿到.
  ```

- 胖箭头函数也没有成功

- let声明循环变量的方法没有尝试

###### react每个组件都必须单根

- 不是单根也默默地不报错, 但是, 就是执行就很诡异...., 2020年11月, 只处理最后一个元素.

###### 非受控组件

1. 可以用ref引用组件的值.
2. 但是如果你想像我一样使用fileinput: 当用户拖入文件时, 立刻对用户操作进行响应, 那么除了响应onchange, 貌似也没有其他方法了.

###### 参考

- https://coffeescript-cookbook.github.io/chapters/arrays/concatenating-arrays