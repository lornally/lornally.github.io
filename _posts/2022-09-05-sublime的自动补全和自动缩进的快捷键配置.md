> 这玩意的设置是门艺术

### 需求

- 可以自动扩展, 并且不放在tab上面, 因为tab太常用了:
  - 缩进
  - 插入tab字符
- 可以格式化, 原本的快捷键记不住, 最好这个按键和tab有关, 但是很不幸
  - alt-tab用了一个
  - ctrl-tab, 一般是窗口内切换tab
  - shift-tab, 减少缩进
  - cmd-tab, 全局切换应用

### 格式化: shift+alt

- shift+alt, 这个可以的
- ctrl+alt, 这个不行, 也不知道为啥
- alt + space, 这是一个真实的按键输入, 因此不行, 很多时候, 会输入一个怪字符

### 自动补全: alt

- alt, 必须单键, 因为真的有按键顺序
- shift+ctrl , 注意有按键顺序, 所以不是 ctrl+shift

### a全局化处理: caps->alt

- 为了方便按alt, 把全局caps->alt

#### 样例配置

```json
[

	{ "keys": ["enter"], "command": "noop", "context":
		[
			{ "key": "auto_complete_visible" },
			{ "key": "setting.auto_complete_commit_on_tab", "operand": false }
		]
	},
  // 先要去掉tab的本身功能
	{ 
		"keys": ["tab"], "command": "noop", "args": {"mini": true, "default": "\t"},
		"context":
		[
			{ "key": "auto_complete_visible", "operand": false },
			{ "key": "selection_empty", "operator": "equal", "operand": true, "match_all": true },
			{ "key": "setting.tab_completion", "operator": "equal", "operand": true },
			{ "key": "preceding_text", "operator": "regex_match", "operand": ".*\\w", "match_all": true },
		]
	},
	{ "keys": ["tab"], "command": "insert", "args": {"characters": "\t"} },
	{
		"keys": ["tab"],
		"command": "move",
		"args": {"by": "lines", "forward": true},
		"context": [{"key": "auto_complete_visible"}]
	},
	{
		"keys": ["shift+tab"],
		"command": "move",
		"args": {"by": "lines", "forward": false},
		"context": [{"key": "auto_complete_visible"}]
	},

	{ "keys": ["tab"], "command": "indent" },
	{ "keys": ["shift+tab"], "command": "unindent" },




	{
		"keys": ["ctrl+."],
		"command": "emmet_enter_abbreviation"
	},



// 配置扩展为单键

	{
		"keys": ["alt"],
		"command": "emmet_expand_abbreviation",
		"context": [{ "key": "selector",
			"operator": "equal", 
		"operand": "source.html, source.htm" }]
	},
	{ "keys": ["alt"], "command": "commit_completion", 
		"context":	[
			{ "key": "auto_complete_visible" },
			{ "key": "setting.auto_complete_commit_on_tab", "operand": false },
			{ "key": "selector",
				"operator": "not_equal", 
			"operand": "source.html, source.htm, source.rb, source.ruby, source.sql" },
		]
	},
	{ "keys": ["alt"], "command": "auto_complete", "args": {"mini": true, "default": "\t"},
	"context":
	[
		{ "key": "auto_complete_visible", "operand": false },
		{ "key": "selection_empty", "operator": "equal", "operand": true, "match_all": true },
		{ "key": "setting.tab_completion", "operator": "equal", "operand": true },
		{ "key": "preceding_text", "operator": "regex_match", "operand": ".*\\w", "match_all": true },
	]
},
{ "keys": ["alt"], "command": "expand_snippet", "context":
	[{ "key": "has_snippet" }, ]
},




//好不容易找到了可以做自动格式化的组合按键
{ 
	"keys": ["shift+alt"], "command": "beautify_ruby", 
	"context": { "key": "selector",
		"operator": "equal", 
	"operand": "source.rb, source.ruby" }

},
{ 
	"keys": ["shift+alt"], "command": "sql_beautifier", 
	"context": { "key": "selector",
		"operator": "equal", 
	"operand": "source.sql" }

},
{
	"keys": ["shift+alt"], "command": "reindent", 
	"args": {
		"single_line": false
	},
	"context": 

	[
		{ "key": "selector",
			"operator": "not_equal", 
		"operand": "source.rb, source.ruby, source.sql" },
		{ "key": "setting.auto_indent", "operator": "equal", "operand": true },
		{ "key": "selection_empty", "operator": "equal", "operand": true, "match_all": true },
		{ "key": "preceding_text", "operator": "regex_match", "operand": "^$", "match_all": true },
		{ "key": "following_text", "operator": "regex_match", "operand": "^$", "match_all": true }
	]

},

]

```

